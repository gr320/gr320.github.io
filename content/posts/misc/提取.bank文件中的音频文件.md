# 提取.bank文件中的音频文件

**以[com.supercell.squad.apk](Software\com.supercell.squad.apk) 文件为例**

提取包内的.bank文件

1. 直接以**压缩包**形式解压`.pak`文件.。

   解压后搜索`.bank`文件， 此pak的 `.bank`文件在\assets\soundbanks\Mobile下。

   解压后如果包内还有`.pak`文件,继续解压缩,查找`.bank`文件。

提取音频文件

1. 解压 [quickbms&fmod.zip](Software\quickbms&fmod.zip) 

2. 打开quickbms.exe文件,如果无法打开,尝试以管理员身份运行.

   弹出两个文件选择对话框和一个目录选择对话框

   1. 选择Script.bms文件。
   2. 选择要提取的.bank文件,文件选择框内Ctrl+A 可全选.bank文件。
   3. 选择保存目录。
   4. 提取出来`00000000.fsb`的文件默认在选中的根目录，如果是多选,则会保存在对应.bank文件名相匹配的文件夹中。

3. 将 fmodL.dll 和 fsb_aud_extr.exe拷贝到.fsb同目录文件夹。

   提取音频文件时，默认会把音频文件放在fsb同目录，无法指定目录，所以可以将两个文件，拷贝到每一个子文件夹中，提取完之后在删除即可。

   通过批处理命令,将两个文件拷贝到每一个子文件夹中.

4. 命令行执行`.\fsb_aud_extr.exe 00000000.fsb` 即可提取音频文件.

   可通过批处理命令完成。

```batch
@echo off
set "source=D:\Sounds\Output"
set "files=fmodL.dll fsb_aud_extr.exe"
echo 正在复制必要文件到所有子文件夹...
for /d /r "%source%" %%d in (*) do (
    if not "%%d"=="%source%" (
        echo 复制到: %%d
        robocopy "%source%" "%%d" %files% /is /it /njh /njs /ndl /nc /ns &gt;nul
    )
)

echo 正在提取所有子文件夹中的 00000000.fsb...
for /d /r "%source%" %%d in (*) do (
    if exist "%%d\00000000.fsb" (
        echo 正在处理: %%d\00000000.fsb
        pushd "%%d"
        .\fsb_aud_extr.exe .\00000000.fsb
        popd
    )
)

echo 操作完成！
pause
```

 